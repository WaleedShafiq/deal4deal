<div class="container mt-5 animated fadeIn">
  <div class=" py-5 d-none d-md-block d-lg-block">
    <h4><i class="mx-4 fa fa-arrow-left" routerLink="/profile"></i>{{'Personal Profile' | translate}}</h4>
  </div>
  <div class="first-d mx-4">
    <div class="user-img d-flex justify-content-center align-items-center p-4">
      <div class="user-img d-flex justify-content-center align-items-center flex-column">
        <img *ngIf="userImage" class="profile-img" src="{{userImage}}">
        <img *ngIf="!userImage" class="profile-img" src="{{defaultUserImage}}">
        <img class="edit-user-img" src="assets/img/Group1755.svg" (click)="openInput.click()">
        <input accept="image/*" type="file" hidden #openInput (change)="uploadImage($event)">
        <div style="display: none" id="imgTest"></div>
      </div>
    </div>
    <p *ngIf="uploadError" class="alert alert-danger my-3 text-center">{{uploadError}}</p>
    <div class="d-flex justify-content-center align-items-center flex-column">
      <h2>{{(userData.first_name | titlecase) || ''}} {{(userData.last_name | titlecase) || ''}}</h2>
      <p class="user-email">{{userData.email || ''}}</p>
    </div>
    <div class="d-flex justify-content-center align-items-center">
      <img class="cup m-3" src="assets/img/Group1827.svg">
      <p class="silver pt-2">{{userLevel | titlecase}}</p>
    </div>
    <div class="d-flex justify-content-center align-items-center">
      <p class="divider"></p>
    </div>
    <div class="d-flex justify-content-center align-items-center col-sm-12">
      <p class="t-1 text-center"><span class="pr-1 r-s">{{userData.purchase_points + userData.referal_points}}</span> {{'Points earned' | translate}}</p>
      <p class="t-2 text-left" [ngClass]="{'pl-5' : currentLanguage === 'en', 'pr-5' : currentLanguage === 'ar' }">{{'nextLevel' | translate}} @ <span class="r-s"> {{userData.level.limit_points}} </span> {{'points' | translate}}</p>
    </div>
    <div class="d-flex justify-content-center align-items-center col-sm-12">
      <p class="earn">{{'earn' | translate}} <span class="pr-1 r-s">10 {{'dreamPoints' | translate}}</span> {{'onEvery' | translate}} <span class="r-s">10 USD</span> {{'spend' | translate}} </p>
    </div>
  </div>
  <div class="animated main-f mx-4 mb-5 pb-5 d-flex p-0 justify-content-around flex-column mt-4">
    <div class="col-sm-12 d-flex  flex-column  py-4">
      <div class=" flex-column d-flex">
        <div class="d-flex justify-content-between py-3 col-sm-12">
          <div class="col-sm-10 d-flex justify-content-start align-items-center">
            <i class="fa fa-user icon-l mx-2"></i>
            <input class="label-t col-sm-10" required="required" [(ngModel)]="userData.user_name" #name (blur)="nameEdit = false" (click)="nameEdit = true" />
          </div>
          <div class=" text-right">
            <i class="fa fa-pencil" (click)="nameEdit = !nameEdit; name.focus()"  [ngClass]="{'active': nameEdit}"></i>
          </div>
        </div>
        <div *ngIf="!userData.user_name" class="py-2 text-center">
          <p class="alert alert-danger">{{'Name is required' | translate}}</p>
        </div>
      </div>

      <!--<div class="d-flex flex-column">-->
        <!--<div class="d-flex justify-content-between py-3 col-sm-12">-->
          <!--<div class="col-sm-10 d-flex justify-content-start align-items-center">-->
            <!--<i class="fa fa-map-marker icon-l mx-2"></i>-->
            <!--<input class="label-t col-sm-10" value="Egypt, Cairo, Ma'adi, 269 street" #location (blur)="locationEdit = false"  (click)="locationEdit = true" />-->
          <!--</div>-->
          <!--<div class=" text-right">-->
            <!--<i class="fa fa-pencil"  (click)="locationEdit = !locationEdit; location.focus()" [ngClass]="{'active': locationEdit}"></i>-->
          <!--</div>-->
        <!--</div>-->
        <!--&lt;!&ndash;<div *ngIf="!userData.user_name" class="py-2 text-center">&ndash;&gt;-->
          <!--&lt;!&ndash;<p class="alert alert-danger">{{'Name is required' | translate}}</p>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
      <!--</div>-->
      <div class="d-flex flex-column">
        <div class="d-flex justify-content-between py-3 col-sm-12">
          <div class="col-sm-10 d-flex justify-content-start align-items-center">
            <i class="fa fa-address-book icon-l mx-2"></i>
            <input class="label-t col-sm-10" required="required" [(ngModel)]="userData.email" #email (blur)="emailEdit = false" (click)="emailEdit = true" />
          </div>
          <div class=" text-right">
            <i class="fa fa-pencil" (click)="emailEdit = !emailEdit; email.focus()" [ngClass]="{'active': emailEdit}"></i>
          </div>
        </div>
        <div *ngIf="!userData.email" class="py-2 text-center">
          <p class="alert alert-danger">{{'email is required' | translate}}</p>
        </div>
      </div>
      <div class="d-flex  flex-column">
        <div class="d-flex  justify-content-between py-3 col-sm-12">
        <div class="col-sm-10 d-flex justify-content-start align-items-center">
          <i class="fa fa-phone icon-l mx-2"></i>
          <input class="label-t col-sm-10" required="required" [(ngModel)]="userData.phone_number" #phone (blur)="phoneEdit = false" (click)="phoneEdit = true" />
        </div>
        <div class=" text-right">
          <i class="fa fa-pencil" (click)="phoneEdit = !phoneEdit; phone.focus()" [ngClass]="{'active': phoneEdit}"></i>
        </div>
        </div>

        <div *ngIf="!userData.phone_number" class="py-2 text-center">
          <p class="alert alert-danger">{{'phone number is required' | translate}}</p>
        </div>
      </div>
      <!--<div class="d-flex  justify-content-between py-3 col-sm-12">-->
        <!--<div class="col-sm-10 d-flex justify-content-start align-items-center">-->
          <!--<i class="fa fa-lock icon-l mx-2"></i>-->
          <!--<input class="label-t col-sm-10" value="************" #password [(ngModel)]="userPassword" (blur)="passwordEdit = false" (click)="passwordEdit = true" />-->
        <!--</div>-->
       <!--<div class=" text-right">-->
          <!--<i class="fa fa-pencil" (click)="passwordEdit = !passwordEdit; password.focus()" [ngClass]="{'active': passwordEdit}"></i>-->
        <!--</div>-->
      <!--</div>-->
    </div>
    <div class="d-flex justify-content-center align-items-center mt-4 flex-column containerButton">
      <p *ngIf="asyncSuccessMessage" class="alert alert-success">{{asyncSuccessMessage}}</p>
      <p *ngIf="asyncErrorMessage" class="alert alert-danger">{{asyncErrorMessage}}</p>
      <button class="btn btn-action" (click)="submit()" [disabled]="!userData.user_name || !userData.email || !userData.phone_number" [ladda]="submitted">{{'save' | translate}}</button>
    </div>
  </div>
</div>

